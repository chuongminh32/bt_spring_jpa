<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="content">
  <!-- Nแบฟu ฤรฃ login -->
  <div th:if="${account != null}" class="card shadow p-4" style="max-width: 650px; margin: auto;">
    <h3 class="text-center mb-4">Hแป sฦก cรก nhรขn</h3>

    <div th:if="${error}" class="alert alert-danger text-center" th:text="${error}"></div>
    <div th:if="${success}" class="alert alert-success text-center" th:text="${success}"></div>

    <form th:action="@{${account.isAdmin} ? '/admin/profile' : '/user/profile'}"
          method="post" enctype="multipart/form-data">

      <div class="text-center mb-4">
        <img th:src="@{/uploads/{img}(img=${account.avatar})}"
             alt="Avatar"
             class="rounded-circle img-thumbnail mx-auto d-block"
             style="width: 150px; height: 150px; object-fit: cover;">
        <p class="text-muted mt-2">ID: <span th:text="${account.id}"></span></p>
      </div>

      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" th:value="${account.email}" readonly>
      </div>

      <div class="mb-3">
        <label class="form-label">Hแป tรชn</label>
        <input type="text" class="form-control" name="fullName" th:value="${account.fullName}" required>
      </div>

      <div class="mb-3">
        <label class="form-label">Sแป ฤiแปn thoแบกi</label>
        <input type="text" class="form-control" name="phone" th:value="${account.phone}">
      </div>

      <div class="mb-3">
        <label class="form-label">แบขnh ฤแบกi diแปn</label>
        <input type="file" class="form-control" name="avatarFile" accept="image/*">
      </div>

      <hr>
      <h5 class="mb-3">๐ ฤแปi mแบญt khแบฉu</h5>

      <div class="mb-3">
        <label class="form-label">Mแบญt khแบฉu hiแปn tแบกi</label>
        <input type="password" class="form-control" name="oldPassword">
      </div>
      <div class="mb-3">
        <label class="form-label">Mแบญt khแบฉu mแปi</label>
        <input type="password" class="form-control" name="newPassword">
      </div>
      <div class="mb-3">
        <label class="form-label">Xรกc nhแบญn mแบญt khแบฉu mแปi</label>
        <input type="password" class="form-control" name="confirmPassword">
      </div>

      <div class="text-center mt-4">
        <button type="submit" class="btn btn-success">๐พ Lฦฐu thay ฤแปi</button>
      </div>
    </form>
  </div>

  <div th:if="${account == null}" class="alert alert-warning text-center">
    Bแบกn chฦฐa ฤฤng nhแบญp. <a th:href="@{/login}">ฤฤng nhแบญp ngay</a>.
  </div>
</div>
</body>
</html>
